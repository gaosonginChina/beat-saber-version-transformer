{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/components/MainView.vue?fcbe","webpack:///./src/App.vue?999a","webpack:///./src/components/MainView.vue?3283","webpack:///./src/utils/read-file-as-json.ts","webpack:///./src/utils/read-file-as-base64.ts","webpack:///./src/lib/beatmap-format-helper.ts","webpack:///./src/model/common/enum.ts","webpack:///./src/lib/transform1_5to2_0.ts","webpack:///./src/utils/download.ts","webpack:///./src/components/MainView.vue","webpack:///./src/components/MainView.vue?fbd5","webpack:///./src/components/MainView.vue?5a8b","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/store.ts","webpack:///./src/registerServiceWorker.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MainView_vue_vue_type_style_index_0_id_39d66b0f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MainView_vue_vue_type_style_index_0_id_39d66b0f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_71445a99_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","MainViewvue_type_template_id_39d66b0f_scoped_true_render","staticClass","_v","_m","type","webkitdirectory","on","input","handleChange","change","src","songCover","alt","songName","_s","version","_e","directives","rawName","expression","disabled","click","transform","href","data-size","data-show-count","aria-label","MainViewvue_type_template_id_39d66b0f_scoped_true_staticRenderFns","readFileAsJSON","file","resolve","reject","fr","FileReader","promise","Promise","rs","rj","onload","json","JSON","parse","onerror","error","readAsText","readFileAsBase64","readAsDataURL","findInfoFile","files","infoFile","find","test","Error","getSongInfo","_x","_getSongInfo","arguments","_callee","info","regeneratorRuntime","wrap","_context","prev","next","sent","isValidSongInfo","abrupt","stop","esm_typeof","_songName","isInfoVersion1_5","findCoverFile","_x2","_findCoverFile","_callee2","songInfo","coverFilePath","coverFile","_context2","coverImagePath","_coverImageFilename","getSongCoverDataUrl","_x3","_getSongCoverDataUrl","_callee3","dataUrl","_context3","getSongName","_x4","_getSongName","_callee4","_context4","getVersion","_x5","_getVersion","_callee5","_context5","_version","getJsonByPath","_x7","_x8","_getJsonByPath","_callee7","path","_context7","DifficultyModeEnum","CharacteristicNameEnum","EnvironmentEnum","transform1_5to2_0_transform","_transform","transform1_5to2_0_Transformer","transformTo2_0","Transformer","classCallCheck","originFiles","outputFiles","srcFiles","firstLevelInfo","difficultyLevels","jsonPath","firstBeatMap","distSongInfoData","_songSubName","songSubName","_songAuthorName","authorName","_songFilename","audioPath","_beatsPerMinute","beatsPerMinute","_shuffle","_shufflePeriod","_environmentName","environmentName","Default","_previewDuration","previewDuration","_difficultyBeatmapSets","_beatmapCharacteristicName","Standard","_difficultyBeatmaps","map","srcLevelInfo","_beatmapFilename","replace","_difficulty","difficulty","_difficultyRank","difficultyRank","_noteJumpMovementSpeed","_noteJumpSpeed","_noteJumpStartBeatOffset","sort","lv1","lv2","_previewStartTime","previewStartTime","_songTimeOffset","distSongInfoFile","File","stringify","all","_ref","asyncToGenerator","mark","level","_this","t0","t1","_ref2","_ref3","slicedToArray","srcBeatMapData","srcfileName","_events","_notes","_obstacles","_ref4","_ref5","distBeatMapData","distBeatMapFileName","distBeatMapFiles","songFile","download","a","document","createElement","url","URL","createObjectURL","revokeObjectURL","MainViewvue_type_script_lang_ts_MainView","_Vue","MainView","possibleConstructorReturn","getPrototypeOf","transformed","assertThisInitialized","inherits","createClass","_handleChange","ev","target","Array","from","then","_transform2","distFiles","zip","zipFile","lib_default","forEach","generateAsync","t2","t3","concat","vue_property_decorator","tslib_es6","components","GithubButton","vue_github_button","MainViewvue_type_script_lang_ts_","components_MainViewvue_type_script_lang_ts_","component","componentNormalizer","components_MainView","Appvue_type_script_lang_ts_App","App","Appvue_type_script_lang_ts_","src_Appvue_type_script_lang_ts_","App_component","src_App","vue_runtime_esm","use","vuex_esm","store","Store","state","mutations","actions","register_service_worker","ready","console","log","registered","cached","updatefound","updated","offline","_error","config","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.b0598e4c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainView.vue?vue&type=style&index=0&id=39d66b0f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainView.vue?vue&type=style&index=0&id=39d66b0f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('MainView')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',[_vm._v(\"Beat Saber Map Transformer\")]),_c('p',[_vm._v(\"Transform the map files from version 1.5 to 2.0.\")]),_vm._m(0),_c('p',[_c('input',{staticClass:\"file-selector\",attrs:{\"type\":\"file\",\"webkitdirectory\":\"\"},on:{\"input\":_vm.handleChange,\"change\":_vm.handleChange}})]),_c('img',{staticClass:\"song-cover\",attrs:{\"src\":_vm.songCover,\"alt\":_vm.songName}}),(_vm.songName)?_c('ul',{staticClass:\"song-info\"},[_c('li',[_vm._v(\"《\"+_vm._s(_vm.songName)+\"》\")]),_c('li',[_vm._v(\"beatmap version: \"+_vm._s(_vm.version))])]):_vm._e(),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.version == '2.0.0'),expression:\"version == '2.0.0'\"}]},[_vm._v(\"This is a version 2.0 map, you don't need to transform this map.\")]),_c('p',[(_vm.files)?_c('button',{attrs:{\"disabled\":_vm.version != '1.5.0'},on:{\"click\":_vm.transform}},[_vm._v(\"Transform & Save\")]):_vm._e()]),(_vm.transformed)?_c('p',[_vm._v(\"\\n       Unzip the package to the beat saber custom levels folder. Then you should see it in game.\"),_c('br'),_vm._v(\"\\n       Folder path maybe \"),_c('code',[_vm._v(\"[path to steam]\\\\Steam\\\\steamapps\\\\common\\\\Beat Saber\\\\Beat Saber_Data\\\\CustomLevels\\\\[song name]\")])]):_vm._e(),_c('p',{staticClass:\"tip\"},[_vm._v(\"Open an issue if you have any question or advice using this tool.\")]),_c('github-button',{attrs:{\"href\":\"https://github.com/xlfsummer/beat-saber-version-transformer\",\"data-size\":\"large\",\"data-show-count\":\"true\",\"aria-label\":\"xlfsummer/beat-saber-version-transformer\"}},[_vm._v(\"Star\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('label',[_vm._v(\"Choose the song map \"),_c('strong',[_vm._v(\"folder\")]),_vm._v(\" (not zip file):\")])])}]\n\nexport { render, staticRenderFns }","export function readFileAsJSON(file: Blob): Promise<unknown> {\n    let fr: FileReader = new FileReader();\n\n    let resolve: (value?: unknown) => void;\n    let reject:  (reason?: any) => void;\n    let promise: Promise<unknown> = new Promise((rs, rj) => {\n        resolve = rs;\n        reject = rj;\n    });\n\n    fr.onload = (): void => {\n        let result: string = fr.result as string;\n        let json: unknown = JSON.parse(result);\n        resolve(json);\n    };\n\n    fr.onerror = (): void => {\n        reject(fr.error);\n    };\n\n    fr.readAsText(file, \"utf8\");\n\n    return promise;\n}\n","export function readFileAsBase64(file: Blob): Promise<string> {\n    let fr: FileReader = new FileReader();\n\n    let resolve: (value?: string) => void;\n    let reject:  (reason?: any) => void;\n    let promise: Promise<string> = new Promise((rs, rj) => {\n        resolve = rs;\n        reject = rj;\n    });\n\n    fr.onload = (): void => {\n        let result: string = fr.result as string;\n        resolve(result);\n    };\n\n    fr.onerror = (): void => {\n        reject(fr.error);\n    };\n\n    fr.readAsDataURL(file);\n\n    return promise;\n}\n","import { ISongInfo, ISongInfoV1_5, ISongInfoV2_0, IBeatMap, IBeatMapV1_5 } from \"../model/common/index\";\nimport { readFileAsJSON } from \"../utils/read-file-as-json\";\nimport { readFileAsBase64 } from \"../utils/read-file-as-base64\";\n\nexport function findInfoFile(files: File[]): File{\n    let infoFile = files.find(file => /^info\\./i.test(file.name));\n    if(!infoFile) { throw new Error(\"can't find info.dat or info.json\"); }\n    return infoFile;\n}\n\nexport async function getSongInfo(files: File[]): Promise<ISongInfo> {\n    let infoFile = findInfoFile(files);\n    let info = await readFileAsJSON(infoFile);\n    if(!isValidSongInfo(info)) throw new Error(\"Song Info not valid\");\n    return info;\n}\n\nexport function isValidSongInfo(info: any): info is ISongInfo {\n    return typeof info == \"object\" && info.songName || info._songName;\n}\nexport function isInfoVersion2_0(info: ISongInfo): info is ISongInfoV2_0 {\n    return \"_version\" in info && info._version == \"2.0.0\";\n}\nexport function isInfoVersion1_5(info: ISongInfo): info is ISongInfoV1_5 {\n    return \"songName\" in info;\n}\n\nexport function isBeatmapVersion1_5(info: unknown): info is IBeatMapV1_5{\n    if(typeof info != \"object\" || info == null) return false;\n    return (info as any)._version == \"1.5.0\"\n}\n\nexport async function findCoverFile(files: File[]): Promise<File | null>{\n    let songInfo = await getSongInfo(files);\n    let coverFilePath = \"\";\n    if(isInfoVersion1_5(songInfo)){\n        coverFilePath = songInfo.coverImagePath;\n    } else { // isInfoVersion2_0\n        coverFilePath = songInfo._coverImageFilename;\n    }\n    let coverFile = files.find(file => file.name == coverFilePath) || null;\n    return coverFile;\n}\n\nexport async function getSongCoverDataUrl(files: File[]): Promise<string | null>{\n    let coverFile = await findCoverFile(files);\n    if(!coverFile) return null;\n    let dataUrl = await readFileAsBase64(coverFile);\n    return dataUrl;\n}\n\nexport async function getSongName(files: File[]): Promise<string>{\n    let info = await getSongInfo(files);\n    if(isInfoVersion1_5(info)){\n        return info.songName;\n    }else{\n        return info._songName;\n    }\n}\n\nexport async function getVersion(files: File[]): Promise<string>{\n    let info = await getSongInfo(files);\n    let version = \"\";\n    if(isInfoVersion1_5(info)){\n        version = \"1.5.0\"\n    } else {\n        version = info._version;\n    }\n    return version;\n}\n\nexport async function findBeatmapsFiles(files: File[]): Promise<File[]>{\n    let songInfo = await getSongInfo(files);\n    let beatmapFilePaths: string[] = [];\n    if(isInfoVersion1_5(songInfo)){\n        let levelInfoList = songInfo.difficultyLevels;\n        beatmapFilePaths = levelInfoList.map(levelInfo => levelInfo.jsonPath);\n    } else if(isInfoVersion2_0(songInfo)){\n        let characteristics = songInfo._difficultyBeatmapSets;\n        let beatmaps = characteristics.flatMap(characteristic => characteristic._difficultyBeatmaps);\n        beatmapFilePaths = beatmaps.map(beatmap => beatmap._beatmapFilename);\n    }\n    let beatmapFiles = files.filter(file => beatmapFilePaths.includes(file.name));\n    return beatmapFiles;\n}\n\nexport async function getJsonByPath(files: File[], path: string): Promise<unknown>{\n    let file = files.find(file => file.name == path);\n    if(!file) throw new Error(\"can't find path \" + path);\n    return await readFileAsJSON(file);\n}\n\nexport async function getBeatmaps(files: File[]): Promise<IBeatMap[]>{\n    let beatmapFiles = await findBeatmapsFiles(files);\n    let beatmaps = await Promise.all(beatmapFiles.map(beatmapFile => readFileAsJSON(beatmapFile)));\n    return beatmaps as IBeatMap[];\n}\n","export enum DifficultyModeEnum {\n    ExpertPlus = \"ExpertPlus\",\n    Expert = \"Expert\",\n    Hard = \"Hard\",\n    Normal = \"Nomal\",\n    Easy = \"Easy\"\n}\n\nexport enum CharacteristicNameEnum {\n    Standard = \"Standard\",\n    OneSaber = \"OneSaber\",\n    NoArrows = \"NoArrows\"\n}\n\n\nexport enum EnvironmentEnum {\n    Default = \"DefaultEnvironment\",\n    Nice = \"NiceEnvironment\"\n}\n","import { getSongInfo, isInfoVersion1_5, getJsonByPath, isBeatmapVersion1_5 } from \"./beatmap-format-helper\";\nimport { ISongInfoV2_0, IBeatMap, IBeatMapV1_5, CharacteristicNameEnum, IBeatMapV2_0, ISongInfoV1_5, EnvironmentEnum } from \"../model/common\";\n// import {  } from '../model/common/enum';\nimport { IDifficultyBeatmap } from '../model/v2.0/info';\nimport { readFileAsJSON } from '@/utils/read-file-as-json';\n\nexport default async function transform(files: File[]): Promise<File[]> {\n    let t: Transformer = new Transformer(files);\n    return t.transformTo2_0();\n}\n\nclass Transformer {\n\n    originFiles: File[] | null = null;\n    outputFiles: File[] | null = null;\n\n    constructor(files: File[]) {\n        this.originFiles = files;\n    }\n\n    async transformTo2_0(): Promise<File[]> {\n        let srcFiles = this.originFiles;\n        if(!srcFiles) throw new Error(\"file not exist!\");\n        let info = await getSongInfo(srcFiles);\n        if(!isInfoVersion1_5(info)) throw new Error(\"song version not 1.5.0\");\n        let firstLevelInfo = info.difficultyLevels[0];\n        let firstBeatMap = await getJsonByPath(srcFiles, info.difficultyLevels[0].jsonPath) as IBeatMapV1_5;\n\n\n        \n        let distSongInfoData: ISongInfoV2_0 = {\n            _songName: info.songName,\n            _songSubName: info.songSubName,\n            _songAuthorName: info.authorName,\n            _coverImageFilename: info.coverImagePath,\n            _songFilename: firstLevelInfo.audioPath,\n            _beatsPerMinute: info.beatsPerMinute,\n            _version: \"2.0.0\",\n            _shuffle: 0,\n            _shufflePeriod: firstBeatMap._shufflePeriod,\n            _environmentName: info.environmentName || EnvironmentEnum.Default,\n            _previewDuration: info.previewDuration,\n            _difficultyBeatmapSets: [{\n                _beatmapCharacteristicName: CharacteristicNameEnum.Standard,\n                _difficultyBeatmaps: info.difficultyLevels.map<IDifficultyBeatmap>(srcLevelInfo => ({\n                    _beatmapFilename: srcLevelInfo.jsonPath.replace(/\\.json$/, \".dat\"),\n                    _difficulty: srcLevelInfo.difficulty,\n                    _difficultyRank: srcLevelInfo.difficultyRank * 2 - 1,\n                    _noteJumpMovementSpeed: firstBeatMap._noteJumpSpeed,\n                    _noteJumpStartBeatOffset: 0, //srcLevelInfo.offset\n                })).sort((lv1, lv2) => lv1._difficultyRank - lv2._difficultyRank)\n            }],\n            _previewStartTime: info.previewStartTime,\n            _songTimeOffset: 0, // firstLevelInfo.offset\n        };\n\n        let distSongInfoFile = new File([JSON.stringify(distSongInfoData)], \"Info.dat\");\n\n        let distBeatMapFiles = (\n                await Promise.all(info.difficultyLevels.map(\n                    async level => [\n                        await getJsonByPath(this.originFiles!, level.jsonPath),\n                        level.jsonPath\n                    ] as [IBeatMapV1_5, string])\n                )\n            ).map<[IBeatMapV2_0, string]>(([srcBeatMapData, srcfileName]) => [\n                {\n                    _version: \"2.0.0\",\n                    _events: srcBeatMapData._events,\n                    _notes: srcBeatMapData._notes,\n                    _obstacles: srcBeatMapData._obstacles\n                },\n                srcfileName.replace(/\\.json$/, \".dat\")\n            ]).map(([distBeatMapData, distBeatMapFileName])=>\n                new File([JSON.stringify(distBeatMapData)], distBeatMapFileName)\n        );\n        \n        let songFile = this.originFiles!.find(file => file.name == firstLevelInfo.audioPath)!;\n\n        let coverFile = (coverImagePath => this.originFiles!.find(file => coverImagePath))(info.coverImagePath)!;\n\n        return [\n            distSongInfoFile,\n            songFile,\n            coverFile,\n            ...distBeatMapFiles\n        ];\n    }\n}\n","export function download(file: Blob | File){\n    let a = document.createElement(\"a\");\n    let url = URL.createObjectURL(file);\n    a.href = url;\n    a.download = file instanceof File\n        ? file.name : \"download\";\n    a.click();\n    URL.revokeObjectURL(url);\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from \"vue-property-decorator\";\n\nimport { readFileAsJSON } from \"../utils/read-file-as-json\";\nimport { readFileAsBase64 } from \"../utils/read-file-as-base64\";\nimport { \n    findInfoFile,\n    isValidSongInfo,\n    isInfoVersion1_5,\n    isInfoVersion2_0,\n    getSongCoverDataUrl,\n    getSongName,\n    getVersion\n} from \"../lib/beatmap-format-helper\";\nimport { ISongInfo, ISongInfoV1_5, ISongInfoV2_0 } from \"../model/common/index\";\nimport transform from \"../lib/transform1_5to2_0\";\nimport JSZip from \"jszip\";\nimport { download } from \"../utils/download\";\n\nimport GithubButton from \"vue-github-button\";\n\n@Component({\n    components: {\n        GithubButton\n    },\n    data(){\n        return {\n            files: null,\n            songInfo: null,\n            songName: \"\",\n            version: \"\",\n            transformed: false\n        }\n    }\n})\nexport default class MainView extends Vue {\n\n    files: File[] | null = null;\n    songInfo: ISongInfo | null = null;\n    songName: string = \"\";\n    songCover: string = \"\";\n    version: string = \"\";\n    transformed: boolean = false;\n\n    constructor(){\n        super()\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    async handleChange(ev: Event){\n        let input = ev.target as HTMLInputElement;\n        if(!input.files || !input.files.length) return;\n\n        let files = this.files = Array.from(input.files);\n        \n        [\n            this.songName,\n            this.songCover,\n            this.version\n        ] = await Promise.all([\n            getSongName(files),\n            getSongCoverDataUrl(files).then(data => data || \"\"),\n            getVersion(files)\n        ]);\n    }\n\n\n    async transform(){\n        let distFiles = await transform(this.files!);\n        let zip = new JSZip();\n        distFiles.forEach(file => zip.file(file.name, file));\n        let zipFile = new File([await zip.generateAsync({\n            type: \"blob\"\n        })], `${this.songName}.zip`);\n        download(zipFile);\n        this.transformed = true;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MainView.vue?vue&type=template&id=39d66b0f&scoped=true&\"\nimport script from \"./MainView.vue?vue&type=script&lang=ts&\"\nexport * from \"./MainView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MainView.vue?vue&type=style&index=0&id=39d66b0f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39d66b0f\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport MainView from \"./components/MainView.vue\";\n\n@Component({\n  components: {\n    MainView\n  }\n})\nexport default class App extends Vue {}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=71445a99&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {},\n  mutations: {},\n  actions: {}\n});\n","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" +\n          \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    }\n  });\n}\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store\";\nimport \"./registerServiceWorker\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  store,\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}